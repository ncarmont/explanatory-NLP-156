{% extends 'bootstrap/base.html' %}
{% import "bootstrap/wtf.html" as wtf %}

{% block styles %}
{{ super() }}
	<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
	<link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}" />
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css'>
{% endblock %}


{% block title %}
Pre-Tweet
{% endblock %}


{% block content %}
<body id="body">
	<div class="header-bar">
		<img class="icon-header" src="{{ url_for('static', filename='images/favicon.ico') }}" alt="icon">
		<h1 class="title">toxic tweet</h1>
	</div>
	<h1 class='sub-title'>Get a second-chance before posting a regrettable Tweet</h1>


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
        <div id="response"></div>

<div class="form-group">
  <input type="text" class="form-control" />
  </div>
  <div class="form-group">
  <input type="text" class="form-control" />
  </div>
        <button class="btn btn-primary" id="btn">alert</button>
  <button class="btn btn-primary" id="btn-error">error</button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>




	<div class="container">
		<h1 class ="tweet-post-header"> write a new Tweet </h1>
	  <div class="row">
	    <div class="col-xs-12">
				<img class="tweet-post-profile-pic" src="{{ url_for('static', filename='images/elon.jpg') }}" alt="icon">

	      {{ wtf.quick_form(form) }}
				<p class="space-above"><strong>{{ message }}</strong></p>

	    </div>
	  </div>
	</div>

	<h1 class='sub-title'>Result</h1>
	<progress value="{{ confidence }}" max="100">{{ str_conf }}</progress>
	<div class="results">
		<p class ="prediction-text"> Prediction: {{ label }} </p>
		<p class ="confidence-text">   Confidence: {{ str_conf }} </p>
	</div>


	<h1 class='sub-title'>Why?</h1>




  <h1 class='cloud-title1'>{{cloud_1}} <p style="font-size:16px; padding-top: 20px;">{{ topSentWords }} </p> </h1>
	<h1 class='cloud-title2'>{{cloud_2}} <p style="font-size:16px;">{{ botSentWords }} </p></h1>
	<div class="clouds-container">
		<img class="toxic-img" src="{{ url_for('static', filename= ''+ wordCloud_bad  ) }}" alt={{wordCloud_bad}}/>
		<img class="non-toxic-img" src="{{ url_for('static', filename= ''+ word_cloud_good  ) }}" alt={{word_cloud_good}}/>
	</div>

	<h1 class='sub-title'>Global {{ detect }} Statistics</h1>
	<h1 class='cloud-title1'>{{cloud_1}}</h1>
	<h1 class='cloud-title2'>{{cloud_2}}</h1>



	<div class="clouds-container">
		<img class="toxic-img" src="{{ url_for('static', filename= 'images/global-graph-1-'+detect+'.png') }}"/>
	  <img class="non-toxic-img" src="{{ url_for('static', filename= 'images/global-graph-2-'+ detect+'.png'  ) }}"/>
	</div>
	<div class="clouds-container">
		<img class="toxic-img" src="{{ url_for('static', filename= 'images/global-wordcloud-1-'+ detect+'.png'  ) }}"/>
		<img class="non-toxic-img" src="{{ url_for('static', filename= 'images/global-wordcloud-2-'+ detect+'.png'  ) }}"/>
	</div>


	<h1 class='sub-title'>Classification Performance </h1>
	<div class="clouds-container">
		<img class="toxic-img" src="{{ url_for('static', filename= 'images/global-peformance-1-'+ detect+'.png'  ) }}"/>
		<img class="non-toxic-img" src="{{ url_for('static', filename= 'images/global-performance-2-'+ detect+'.png' ) }}"/>
	</div>

<h1 class='sub-title'>Dev Examples </h1>
<h1 class='cloud-title1'>Correct</h1>
<h1 class='cloud-title2'>Overconfident</h1>
<div class="clouds-container">
	<img class="non-toxic-img" src="{{ url_for('static', filename= 'images/tweet-mistake-'+detect+'.png') }}"/>
	<img class="toxic-img" src="{{ url_for('static', filename= 'images/tweet-correct-'+ detect+'.png'  ) }}"/>
</div>

<h1 class='sub-title'>Datasets Used </h1>

<h1 style="padding: 20px 120px; font-size:30px;"> For Sentiment Analysis we used a dataset containing review data with a vocabulary of 9880 words with sentiment labeled as POSITIVE or NEGATIVE</h1>
<h1 style="padding: 20px 120px; font-size:30px; "> For Toxic Comment Analysis we used a dataset of 160k Wikipedia comments marked as either TOXIC or NON-TOXIC. Where Toxic is defined as containing hate-speech, profanity, insult, adultery or discrimination</h1>

</body>
	<script>

	</script>
{% endblock %}
